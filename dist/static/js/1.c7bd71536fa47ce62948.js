webpackJsonp([1],{LEww:function(e,t){},RGWa:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("mvHQ"),l=a.n(i),n={name:"ChooseDialogTalbe",props:["title","checkedData"],data:function(){return{dialogVisible:!1,multipleSelectionAll:[],multipleSelection:[],idKey:"personId",tableData:[],pagination:{totalRows:0,pageSize:10,pageSizes:[10,20,50],pageNumber:1,layout:"total, sizes, prev, pager, next, jumper"}}},methods:{handleChooseData:function(){this.pagination.pageNumber=1,this.queryData(),this.dialogVisible=!0},handleClearData:function(){this.multipleSelectionAll=[],this.$emit("handleChooseData",[]),this.dialogVisible=!1},handleAddData:function(){this.changePageCoreRecordData(),this.multipleSelectionAll.length<=0?this.$message({message:"无勾选数据！",type:"warning"}):(this.$emit("handleChooseData",this.multipleSelectionAll),this.dialogVisible=!1)},setSelectRow:function(){if(this.multipleSelectionAll&&!(this.multipleSelectionAll.length<=0)){var e=this.idKey,t=[];this.multipleSelectionAll.forEach(function(a){t.push(a[e])}),this.$refs.table.clearSelection();for(var a=0;a<this.tableData.length;a++)t.indexOf(this.tableData[a][e])>=0&&this.$refs.table.toggleRowSelection(this.tableData[a],!0)}},changePageCoreRecordData:function(){var e=this.idKey,t=this;if(this.multipleSelectionAll.length<=0)this.multipleSelectionAll=this.multipleSelection;else{var a=[];this.multipleSelectionAll.forEach(function(t){a.push(t[e])});var i=[];this.multipleSelection.forEach(function(l){i.push(l[e]),a.indexOf(l[e])<0&&t.multipleSelectionAll.push(l)});var l=[];this.tableData.forEach(function(t){i.indexOf(t[e])<0&&l.push(t[e])}),l.forEach(function(i){if(a.indexOf(i)>=0)for(var l=0;l<t.multipleSelectionAll.length;l++)if(t.multipleSelectionAll[l][e]==i){t.multipleSelectionAll.splice(l,1);break}})}},currentChange:function(e){this.changePageCoreRecordData(),this.pagination.pageNumber=e,this.queryData()},sizeChange:function(e){this.changePageCoreRecordData(),this.pagination.pageSize=e,this.queryData()},handleSelectionChange:function(e){this.multipleSelection=e},queryData:function(){var e=this;this.tableData=[],this.pagination.totalRows=100;for(var t=(this.pagination.pageNumber-1)*this.pagination.pageSize+1,a=this.pagination.pageNumber*this.pagination.pageSize;t<=a;t++)this.tableData.push({personId:t,personName:"小明同志"+t,telphone:"137000000"+t,idNo:t+"10212000000000011",linkType:"业主"});setTimeout(function(){e.setSelectRow()},20)},getAllSelectionData:function(){this.changePageCoreRecordData(),console.log(this.multipleSelectionAll)}},mounted:function(){this.$nextTick(function(){this.pagination.pageNumber=1,this.queryData()})},watch:{checkedData:{handler:function(e){this.multipleSelectionAll=JSON.parse(l()(e))},immediate:!0,deep:!0}}},o={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"hello"},[a("el-button",{staticStyle:{float:"left"},attrs:{size:"small",type:"primary"},on:{click:e.handleChooseData}},[e._v(e._s(e.title))]),e._v(" "),a("el-dialog",{attrs:{title:"客户选择",visible:e.dialogVisible,width:"80%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-button",{staticStyle:{float:"left"},attrs:{size:"small",type:"primary"},on:{click:e.handleClearData}},[e._v("清空所有")]),e._v(" "),a("el-button",{staticStyle:{float:"left"},attrs:{size:"small",type:"primary"},on:{click:e.handleAddData}},[e._v("添加选中的")]),e._v(" "),a("el-table",{ref:"table",attrs:{data:e.tableData},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection"}}),e._v(" "),a("el-table-column",{attrs:{prop:"personName",label:"客户名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"telphone",label:"手机号"}}),e._v(" "),a("el-table-column",{attrs:{prop:"idNo",label:"身份证号"}}),e._v(" "),a("el-table-column",{attrs:{prop:"linkType",label:"客户身份"}})],1),e._v(" "),a("el-pagination",{attrs:{"page-size":e.pagination.pageSize,"current-page":e.pagination.pageNumber,"page-sizes":e.pagination.pageSizes,total:e.pagination.totalRows,layout:e.pagination.layout},on:{"current-change":e.currentChange,"size-change":e.sizeChange}})],1)],1)},staticRenderFns:[]};var s={data:function(){return{checkedData:[]}},methods:{handleChooseData:function(e){this.$message({message:"已经选择了"+e.length+"条数据！",type:"success"}),this.checkedData=e}},components:{dgTable:a("VU/8")(n,o,!1,function(e){a("LEww")},"data-v-3bc2de24",null).exports},mounted:function(){this.$nextTick(function(){this.checkedData=[{personId:2}]})}},c={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("dg-table",{attrs:{title:"弹窗组件选择数据","checked-data":this.checkedData},on:{handleChooseData:this.handleChooseData}}),this._v(" "),t("br"),t("br"),t("br"),this._v(" "),t("el-input",{attrs:{type:"textarea",rows:10,placeholder:"已选择内容",value:JSON.stringify(this.checkedData)}})],1)},staticRenderFns:[]},h=a("VU/8")(s,c,!1,null,null,null);t.default=h.exports},mvHQ:function(e,t,a){e.exports={default:a("qkKv"),__esModule:!0}},qkKv:function(e,t,a){var i=a("FeBl"),l=i.JSON||(i.JSON={stringify:JSON.stringify});e.exports=function(e){return l.stringify.apply(l,arguments)}}});
//# sourceMappingURL=1.c7bd71536fa47ce62948.js.map